/* empty css            */import{x as A,h as $}from"./es-KdpK1agg.js";import{u as k,r as m,m as u,j as I,a as C,_ as S,b as y,d as F,h,k as w,V as i,f as c,g as v}from"./VTextField-4S7uySAp.js";import{V as L}from"./VContainer-8PfCTjid.js";import{a as U,V as B}from"./VSnackbar-FDwtk853.js";import{o as f,c as p,b as E,a as t,w as l,F as x,d,t as b,i as T,j as q}from"./index-zMbi89Zt.js";$.locale("es",{invalidDate:$().format("DD-MM-YYYY")});const V=new Date;V.getFullYear();V.getMonth();const D={emits:["tengo_resultados"],components:{TimePicker:A},setup(){return{v$:k()}},data:()=>({submitForm:!1,color:"",snackbar:!1,colorSnackbar:"",textoTituloSnackbar:"",textoSnackbar:"",errors:[],formEdited:{nombre:"",primerApellido:"",segundoApellido:"",tel:"",correo:"",curp:""},formEditedDefault:{nombre:"",primerApellido:"",segundoApellido:"",tel:"",correo:"",curp:""},rules:{required:e=>!!e||"Este campo es requerido",rfc:e=>/^([A-ZÑ\x26]{4}([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1]))([A-Z\d]{3})$/.test(e)||"Ingresa un RFC válido",number:e=>!e||/^([0-9])+$/.test(e)||"Ingresa un número entero",decimal:e=>/^([0-9])+(.5)?$/.test(e)||!e||"Ingresa un número entero o decimal",email:e=>/.+@.+\..+/.test(e)||"Ingresa un correo válido",five:e=>!e||e&&e.length<=5||"Ingresa 5 dígitos como máximo",fifty:e=>e&&e.length<=50||"Ingresa un correo de 50 caracteres como máximo",oneHundred:e=>!e||e&&e.length<=100||"Ingresa 100 caracteres como máximo",fourteen:e=>!e||e&&e.length<=14||"Ingresa 14 caracteres como máximo",ten:e=>!e||e&&e.length===10||"Ingresa un número de 10 dígitos",textarea:e=>!e||e&&e.length<=1e3||"Ingresa 1000 caracteres como máximo",phone:e=>/^([0-9])+$/.test(e)||"Ingresa un número válido",phoneEmpty:e=>!e||/^([0-9])+$/.test(e)||"Ingresa un número válido"}}),validations:{formEdited:{nombre:{required:m,maxLength:u(50)},primerApellido:{required:m,maxLength:u(50)},segundoApellido:{required:m,maxLength:u(50)},tel:{required:m,maxLength:u(10),minLength:I(10)},correo:{required:m,maxLength:u(50)},curp:{required:m,maxLength:u(20)}}},computed:{nombreErrors(){const e=[];return this.v$.formEdited.nombre.$error&&(this.v$.formEdited.nombre.required&&e.push("Indicar el o los nombres"),this.v$.formEdited.nombre.maxValue&&e.push("El nombre no debe superar 50 caracteres")),e},primerApellidoErrors(){const e=[];return this.v$.formEdited.primerApellido.$error&&(this.v$.formEdited.primerApellido.required&&e.push("Indicar el primer apellido"),this.v$.formEdited.primerApellido.maxValue&&e.push("El primer apellido no debe superar 50 caracteres")),e},segundoApellidoErrors(){const e=[];return this.v$.formEdited.segundoApellido.$error&&(this.v$.formEdited.segundoApellido.required&&e.push("Indicar el segundo apellido"),this.v$.formEdited.segundoApellido.maxValue&&e.push("El segundo apellido no debe superar 50 caracteres")),e},telErrors(){const e=[];return this.v$.formEdited.tel.$error&&(this.v$.formEdited.tel.required&&e.push("Indicar el número de contacto"),this.v$.formEdited.tel.maxValue&&e.push("El número no debe superar 10 digitos"),this.v$.formEdited.tel.minLength&&e.push("El número debe ser de al menos 10 digitos")),e},correoErrors(){const e=[];return this.v$.formEdited.correo.$error&&(this.v$.formEdited.correo.required&&e.push("Indicar el correo"),this.v$.formEdited.correo.maxValue&&e.push("El correo no debe superar 50 caracteres")),e},curpErrors(){const e=[];return this.v$.formEdited.curp.$error&&(this.v$.formEdited.curp.required&&e.push("Indicar la CURP"),this.v$.formEdited.curp.maxValue&&e.push("La CURP no debe superar 20 caracteres")),e}},methods:{abrirPadre(){this.$emit("tengo_resultados",!0)},filter:function(e){const r=window.Event?e.which:e.keyCode,a=r===37||r===39||r===8||r===46||r===35||r===36,s=r>=48&&r<=57,g=r>=96&&r<=105;if(!a&&!s&&!g)return e.preventDefault(),!1},async validarForm(){if(this.v$.$validate(),console.log(this.formEdited),this.v$.formEdited.$invalid)this.errors=[],this.formEdited.nombre==""?(this.$refs.nombre.focus(),this.errors.push("Indicar el nombre")):this.formEdited.primerApellido==""?(this.$refs.primerApellido.focus(),this.errors.push("Indicar primer apellido")):this.formEdited.segundoApellido==""?(this.$refs.segundoApellido.focus(),this.errors.push("Indicar segundo apellido")):this.formEdited.tel==""?(this.$refs.tel.focus(),this.errors.push("Indicar el número de contacto")):this.formEdited.correo==""?(this.$refs.correo.focus(),this.errors.push("Indicar el correo")):this.formEdited.curp==""&&(this.$refs.curp.focus(),this.errors.push("Indicar la CURP"));else{const e={"Content-Type":"application/json","x-token-admin":localStorage.jwt};let r={nombre:this.formEdited.nombre,primerApellido:this.formEdited.primerApellido,segundoApellido:this.formEdited.segundoApellido,tel:this.formEdited.tel,correo:this.formEdited.correo,curp:this.formEdited.curp};this.submitForm=!0;const a=await this.$axios.post("/usuarios/agregar",r,{headers:e}).then(function(s){return console.log(s.data),s.data}).catch(function(s){return console.log("Error: ",s),s.response.data.login==!1?!1:s});a==!1?this.abrirPadre():a.ok?(this.errors=[],this.textoTituloSnackbar="Correcto",this.textoSnackbar=a.msg,this.colorSnackbar=this.color,this.snackbar=!0,this.v$.$reset(),this.$nextTick(()=>{this.formEdited=Object.assign({},this.formEditedDefault)}),this.submitForm=!1):(this.errors=[],this.textoTituloSnackbar="Error",this.textoSnackbar=a.msg,this.textoSnackbar=a.response.data.msg,this.colorSnackbar="red-darken-2",this.snackbar=!0,this.submitForm=!1)}}},watch:{color(e){localStorage.color=e}},mounted(){const e=C();console.log(e.color),this.color=e.color,localStorage.color&&(this.color=localStorage.color),localStorage.login==!1&&this.abrirPadre()},created(){}},P={class:"d-flex align-center flex-column"},N={class:"text-subtitle-1"},R={class:"text-wrap"},j={key:0};function Y(e,r,a,s,g,n){return f(),p(x,null,[E("div",P,[t(y,{width:"auto",elevation:"1",variant:"flat",color:e.color},{default:l(()=>[t(F,{class:"mt-6 text-center text-wrap"},{default:l(()=>[t(h,{left:""},{default:l(()=>[d(" mdi-checkbox-marked-outline ")]),_:1}),d(" Agregar un nueva persona ")]),_:1}),t(w,{class:"text-center mb-6"},{default:l(()=>[d("Ingresar datos")]),_:1})]),_:1},8,["color"])]),t(L,{fluid:"",class:"mt-6"},{default:l(()=>[t(B,{class:"d-flex flex-md-row flex-column justify-center align-center text-center"},{default:l(()=>[t(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4",class:"text-center"},{default:l(()=>[d(" Nombre(s) * ")]),_:1}),t(i,{col:"12",xs:"12",sm:"12",md:"6",lg:"6"},{default:l(()=>[t(c,{type:"text",color:e.color,counter:50,maxlength:"50",modelValue:e.formEdited.nombre,"onUpdate:modelValue":r[0]||(r[0]=o=>e.formEdited.nombre=o),label:"Indicar nombre(s)",variant:"outlined","error-messages":n.nombreErrors,onChange:r[1]||(r[1]=o=>s.v$.formEdited.nombre.$touch()),onBlur:r[2]||(r[2]=o=>s.v$.formEdited.nombre.$touch()),ref:"nombre"},null,8,["color","modelValue","error-messages"])]),_:1}),t(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4",class:"text-center"},{default:l(()=>[d(" Primer apellido * ")]),_:1}),t(i,{col:"12",xs:"12",sm:"12",md:"6",lg:"6"},{default:l(()=>[t(c,{type:"text",color:e.color,counter:50,maxlength:"50",modelValue:e.formEdited.primerApellido,"onUpdate:modelValue":r[3]||(r[3]=o=>e.formEdited.primerApellido=o),label:"Indicar primer apellido",variant:"outlined","error-messages":n.primerApellidoErrors,onChange:r[4]||(r[4]=o=>s.v$.formEdited.primerApellido.$touch()),onBlur:r[5]||(r[5]=o=>s.v$.formEdited.primerApellido.$touch()),ref:"primerApellido"},null,8,["color","modelValue","error-messages"])]),_:1}),t(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4",class:"text-center"},{default:l(()=>[d(" Segundo apellido * ")]),_:1}),t(i,{col:"12",xs:"12",sm:"12",md:"6",lg:"6"},{default:l(()=>[t(c,{type:"text",color:e.color,counter:50,maxlength:"50",modelValue:e.formEdited.segundoApellido,"onUpdate:modelValue":r[6]||(r[6]=o=>e.formEdited.segundoApellido=o),label:"Indicar segundo apellido",variant:"outlined","error-messages":n.segundoApellidoErrors,onChange:r[7]||(r[7]=o=>s.v$.formEdited.segundoApellido.$touch()),onBlur:r[8]||(r[8]=o=>s.v$.formEdited.segundoApellido.$touch()),ref:"segundoApellido"},null,8,["color","modelValue","error-messages"])]),_:1}),t(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4",class:"text-center"},{default:l(()=>[d(" Número celular * ")]),_:1}),t(i,{col:"12",xs:"12",sm:"12",md:"6",lg:"6"},{default:l(()=>[t(c,{type:"text",color:e.color,counter:10,maxlength:"10",onKeydown:r[9]||(r[9]=o=>n.filter(o)),modelValue:e.formEdited.tel,"onUpdate:modelValue":r[10]||(r[10]=o=>e.formEdited.tel=o),label:"Indicar número celular",variant:"outlined","error-messages":n.telErrors,onChange:r[11]||(r[11]=o=>s.v$.formEdited.tel.$touch()),onBlur:r[12]||(r[12]=o=>s.v$.formEdited.tel.$touch()),ref:"tel"},null,8,["color","modelValue","error-messages"])]),_:1}),t(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4",class:"text-center"},{default:l(()=>[d(" Correo electrónico * ")]),_:1}),t(i,{col:"12",xs:"12",sm:"12",md:"6",lg:"6"},{default:l(()=>[t(c,{type:"text",color:e.color,counter:50,maxlength:"50",modelValue:e.formEdited.correo,"onUpdate:modelValue":r[13]||(r[13]=o=>e.formEdited.correo=o),label:"Indicar correo electrónico",variant:"outlined","error-messages":n.correoErrors,onChange:r[14]||(r[14]=o=>s.v$.formEdited.correo.$touch()),onBlur:r[15]||(r[15]=o=>s.v$.formEdited.correo.$touch()),ref:"correo"},null,8,["color","modelValue","error-messages"])]),_:1}),t(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4",class:"text-center"},{default:l(()=>[d(" Curp * ")]),_:1}),t(i,{col:"12",xs:"12",sm:"12",md:"6",lg:"6"},{default:l(()=>[t(c,{type:"text",color:e.color,counter:20,maxlength:"20",modelValue:e.formEdited.curp,"onUpdate:modelValue":r[16]||(r[16]=o=>e.formEdited.curp=o),label:"Indicar CURP",variant:"outlined","error-messages":n.curpErrors,onChange:r[17]||(r[17]=o=>s.v$.formEdited.curp.$touch()),onBlur:r[18]||(r[18]=o=>s.v$.formEdited.curp.$touch()),ref:"curp"},null,8,["color","modelValue","error-messages"])]),_:1}),t(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4"},{default:l(()=>[t(v,{color:e.color,block:"",size:"large",loading:e.submitForm,disabled:e.submitForm,onClick:n.validarForm},{default:l(()=>[t(h,{left:""},{default:l(()=>[d(" mdi-content-save-move-outline ")]),_:1}),d(" Guardar ")]),_:1},8,["color","loading","disabled","onClick"])]),_:1})]),_:1})]),_:1}),t(U,{modelValue:e.snackbar,"onUpdate:modelValue":r[20]||(r[20]=o=>e.snackbar=o),vertical:"",timeout:2e3,color:e.colorSnackbar,location:"center",elevation:"24"},{actions:l(()=>[t(v,{variant:"text",onClick:r[19]||(r[19]=o=>e.snackbar=!1)},{default:l(()=>[d(" Cerrar ")]),_:1})]),default:l(()=>[E("div",N,[t(h,{left:""},{default:l(()=>[d("mdi-information-outline")]),_:1}),d(" "+b(e.textoTituloSnackbar),1)]),E("p",R,b(e.textoSnackbar),1),e.errors.length!=0?(f(),p("div",j,[(f(!0),p(x,null,T(e.errors,o=>(f(),p("p",{key:o},b(o),1))),128))])):q("",!0)]),_:1},8,["modelValue","color"])],64)}const O=S(D,[["render",Y]]);export{O as default};
